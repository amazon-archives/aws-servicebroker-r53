FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IHI1My1hcGIKZGVzY3JpcHRpb246ICdBV1MgTWFuYWdlZCBSb3V0\
ZSA1MyBJbXBsZW1lbnRhdGlvbicKdGFnczoKICAtIGFtYXpvbgogIC0gcjUzCiAgLSByb3V0ZTUz\
CmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBkaXNwbGF5TmFtZTog\
IkFtYXpvbiBSb3V0ZSA1MyAoQVBCKSIKICBpbWFnZVVybDogImh0dHBzOi8vczMuYW1hem9uYXdz\
LmNvbS90aHAtYXdzLWljb25zLWRldi9OZXR3b3JraW5nQ29udGVudERlbGl2ZXJ5X0FtYXpvblJv\
dXRlNTNfTEFSR0UucG5nIgogIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24u\
Y29tL2RvY3VtZW50YXRpb24vcm91dGU1My8iCiAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIFJv\
dXRlIDUzIGlzIGEgaGlnaGx5IGF2YWlsYWJsZSBhbmQgc2NhbGFibGUgRG9tYWluIE5hbWUgU3lz\
dGVtIChETlMpIHdlYiBzZXJ2aWNlLiIKICBwcm92aWRlckRpc3BsYXlOYW1lOiAiQVdTIgpwbGFu\
czoKICAtIG5hbWU6IGhvc3RlZHpvbmUKICAgIGRlc2NyaXB0aW9uOiAnTWFuYWdlZCBSb3V0ZTUz\
IGhvc3RlZCB6b25lJwogICAgZnJlZTogZmFsc2UKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5\
TmFtZTogIkhvc3RlZCBab25lIgogICAgICBsb25nRGVzY3JpcHRpb246ICJIb3N0ZWQgWm9uZSBB\
UEIiCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0ZXJzOgogICAgICAjIyMjIyMjIyMjIyMj\
IyMjIyMjIyMjIyMjIwogICAgICAjIEFXUyBBY2NvdW50IEluZm9ybWF0aW9uCiAgICAgICMjIyMj\
IyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRl\
c2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicK\
ICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X3R5cGU6IHBhc3N3b3JkCiAgICAg\
ICAgZGlzcGxheV9ncm91cDogQVdTIEFjY291bnQgSW5mb3JtYXRpb24KICAgICAgLSBuYW1lOiBh\
d3Nfc2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBT\
ZWNyZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50\
aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRpc3BsYXlf\
dHlwZTogcGFzc3dvcmQKICAgICAgICBkaXNwbGF5X2dyb3VwOiBBV1MgQWNjb3VudCBJbmZvcm1h\
dGlvbgogICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgICAjIEhvc3RlZCBab25l\
IFNldHRpbmdzCiAgICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAgIC0gbmFtZTog\
c3RhY2tfaWRlbnRpZmllcgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVu\
aXF1ZSBTdGFjayBJZGVudGlmaWVyCiAgICAgICAgZGVzY3JpcHRpb246ICdVbmlxdWUgaWRlbnRp\
ZmllciB0byBiZSBpbmNsdWRlZCBpbiB0aGUgQ2xvdWRGb3JtYXRpb24gU3RhY2sgTmFtZSB0byBw\
cmV2ZW50IG5hbWluZyBjb2xsaXNpb25zLiBNdXN0IG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMg\
Y2hhcmFjdGVycyBhbmQgaHlwaGVucy4gKGUuZy4gInNhbXBsZS1ob3N0ZWR6em9uZS1zdGFjayIs\
ICJwcm9kdWN0aW9uLXI1My1ob3N0ZWR6b25lLTA4LTIwMTciKScKICAgICAgICB0eXBlOiBzdHJp\
bmcKICAgICAgICBkaXNwbGF5X2dyb3VwOiBIb3N0ZWQgWm9uZSBTZXR0aW5ncwogICAgICAtIG5h\
bWU6IEhvc3RlZFpvbmVOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTog\
TmFtZSBvZiB0aGUgaG9zdGVkIHpvbmUKICAgICAgICBkZXNjcmlwdGlvbjogJ0RvbWFpbiBuYW1l\
IG9mIHRoZSBob3N0ZWQgem9uZSB3aGljaCB0aGUgcmVjb3JkcyBhcmUgdG8gYmUgY3JlYXRlZCBp\
bi4gKGUuZy4gbXlkb21haW4uZG9nOGNvZGUuY29tKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgICBkaXNwbGF5X2dyb3VwOiBIb3N0ZWQgWm9uZSBTZXR0aW5ncwogIC0gbmFtZTogcmVjb3Jk\
c2V0CiAgICBkZXNjcmlwdGlvbjogJ01hbmFnZWQgUm91dGU1MyBSZWNvcmQgU2V0JwogICAgZnJl\
ZTogZmFsc2UKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIlJlY29yZCBTZXQiCiAg\
ICAgIGxvbmdEZXNjcmlwdGlvbjogIlJlY29yZCBTZXQgQVBCIgogICAgICBjb3N0OiAkMC4wMAog\
ICAgcGFyYW1ldGVyczoKICAgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICAgIyBB\
V1MgQWNjb3VudCBJbmZvcm1hdGlvbgogICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwog\
ICAgICAtIG5hbWU6IGF3c19hY2Nlc3Nfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAg\
ICB0aXRsZTogQVdTIEFjY2VzcyBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBBY2Nlc3Mg\
S2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
ICAgICAgZGlzcGxheV90eXBlOiBwYXNzd29yZAogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEFXUyBB\
Y2NvdW50IEluZm9ybWF0aW9uCiAgICAgIC0gbmFtZTogYXdzX3NlY3JldF9rZXkKICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgU2VjcmV0IEtleQogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnQVdTIFNlY3JldCBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAg\
ICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X3R5cGU6IHBhc3N3b3JkCiAgICAgICAg\
ZGlzcGxheV9ncm91cDogQVdTIEFjY291bnQgSW5mb3JtYXRpb24KICAgICAgIyMjIyMjIyMjIyMj\
IyMjIyMjIyMjIyMjIyMKICAgICAgIyBSZWNvcmQgU2V0IFNldHRpbmdzCiAgICAgICMjIyMjIyMj\
IyMjIyMjIyMjIyMjIyMjIyMjCiAgICAgIC0gbmFtZTogc3RhY2tfaWRlbnRpZmllcgogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVuaXF1ZSBTdGFjayBJZGVudGlmaWVyCiAg\
ICAgICAgZGVzY3JpcHRpb246ICdVbmlxdWUgaWRlbnRpZmllciB0byBiZSBpbmNsdWRlZCBpbiB0\
aGUgQ2xvdWRGb3JtYXRpb24gU3RhY2sgTmFtZSB0byBwcmV2ZW50IG5hbWluZyBjb2xsaXNpb25z\
LiBNdXN0IG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhbmQgaHlwaGVucy4g\
KGUuZy4gInNhbXBsZS1yZWNvcmRzZXQtc3RhY2siLCAicHJvZHVjdGlvbi1yNTMtcmVjb3Jkc2V0\
LTA4LTIwMTciKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X2dyb3VwOiBS\
ZWNvcmQgU2V0IFNldHRpbmdzCiAgICAgIC0gbmFtZTogSG9zdGVkWm9uZU5hbWUKICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBOYW1lIG9mIHRoZSBob3N0ZWQgem9uZQogICAg\
ICAgIGRlc2NyaXB0aW9uOiAnRG9tYWluIG5hbWUgb2YgdGhlIGhvc3RlZCB6b25lIHdoaWNoIHRo\
ZSByZWNvcmRzIGFyZSB0byBiZSBjcmVhdGVkIGluLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgICBkaXNwbGF5X2dyb3VwOiBSZWNvcmQgU2V0IFNldHRpbmdzCiAgICAgIC0gbmFtZTogSG9z\
dGVkWm9uZUlkCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogSWQgb2YgdGhl\
IGhvc3RlZCB6b25lCiAgICAgICAgZGVzY3JpcHRpb246ICdJZCBvZiB0aGUgaG9zdGVkIHpvbmUg\
d2hpY2ggdGhlIHJlY29yZHMgYXJlIHRvIGJlIGNyZWF0ZWQgaW4nCiAgICAgICAgdHlwZTogc3Ry\
aW5nCiAgICAgICAgZGlzcGxheV9ncm91cDogUmVjb3JkIFNldCBTZXR0aW5ncwogICAgICAtIG5h\
bWU6IFRpbWVUb0xpdmUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBUaW1l\
IHRvIGxpdmUKICAgICAgICBkZXNjcmlwdGlvbjogJ0hvdyBsb25nIHRoZSByZXNvbHZlZCByZWNv\
cmQgY2FuIHJlc29sdmUuJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIz\
NjAiCiAgICAgICAgZGlzcGxheV9ncm91cDogUmVjb3JkIFNldCBTZXR0aW5ncwogICAgICAtIG5h\
bWU6IFR5cGVvZlJlY29yZAogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFR5\
cGUgb2YgcmVjb3JkCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgdHlwZSBvZiByZWNvcmQgdG8g\
YmUgY3JlYXRlZCcKICAgICAgICBlbnVtOiBbIkEiLCAiQUFBQSIsICJDQUEiLCAiQ05BTUUiLCAi\
TVgiLCAiTlMiLCAiUFRSIiwgIlNPQSIsICJTUEYiLCAiU1JWIiwgIlRYVCJdCiAgICAgICAgdHlw\
ZTogZW51bQogICAgICAgIGRpc3BsYXlfZ3JvdXA6IFJlY29yZCBTZXQgU2V0dGluZ3MKICAgICAg\
LSBuYW1lOiBSZWNvcmROYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTog\
UmVjb3JkIE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ05hbWUgb2YgdGhlIHJlY29yZCB0byBi\
ZSBhZGRlZCcKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X2dyb3VwOiBSZWNv\
cmQgU2V0IFNldHRpbmdzCiAgICAgIC0gbmFtZTogUmVzb3VyY2VSZWNvcmQKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBSZXNvdXJjZSBSZWNvcmQKICAgICAgICBkZXNjcmlw\
dGlvbjogJ0lwIG9yIEROUyBuYW1lIHRoZSByZWNvcmQgcmVzb2x2ZXMgdG8uJwogICAgICAgIHR5\
cGU6IHN0cmluZwogICAgICAgIGRpc3BsYXlfZ3JvdXA6IFJlY29yZCBTZXQgU2V0dGluZ3MKICAg\
ICAgLSBuYW1lOiBBbGlhc1RhcmdldAogICAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgICAgIHRp\
dGxlOiBBbGlhcyBUYXJnZXQKICAgICAgICBkZXNjcmlwdGlvbjogJ0FsaWFzIHJlc291cmNlIHJl\
Y29yZCBzZXRzIG9ubHk6IEluZm9ybWF0aW9uIGFib3V0IHRoZSBkb21haW4gdG8gd2hpY2ggeW91\
IGFyZSByZWRpcmVjdGluZyB0cmFmZmljLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBk\
aXNwbGF5X2dyb3VwOiBSZWNvcmQgU2V0IFNldHRpbmdzCg=="


USER apb
