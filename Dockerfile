FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IHI1My1hcGIKZGVzY3JpcHRpb246ICdBV1MgTWFuYWdlZCBSb3V0\
ZSA1MyBJbXBsZW1lbnRhdGlvbicKdGFnczoKICAtIGFtYXpvbgogIC0gcjUzCiAgLSByb3V0ZTUz\
CmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBkaXNwbGF5TmFtZTog\
IkFtYXpvbiBSb3V0ZSA1MyAoQVBCKSIKICBpbWFnZVVybDogImh0dHBzOi8vczMuYW1hem9uYXdz\
LmNvbS90aHAtYXdzLWljb25zLWRldi9OZXR3b3JraW5nQ29udGVudERlbGl2ZXJ5X0FtYXpvblJv\
dXRlNTNfTEFSR0UucG5nIgogIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24u\
Y29tL2RvY3VtZW50YXRpb24vcm91dGU1My8iCiAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIFJv\
dXRlIDUzIGlzIGEgaGlnaGx5IGF2YWlsYWJsZSBhbmQgc2NhbGFibGUgRG9tYWluIE5hbWUgU3lz\
dGVtIChETlMpIHdlYiBzZXJ2aWNlLiIKICBwcm92aWRlckRpc3BsYXlOYW1lOiAiQVdTIgpwbGFu\
czoKICAtIG5hbWU6IGhvc3RlZHpvbmUKICAgIGRlc2NyaXB0aW9uOiAnTWFuYWdlZCBSb3V0ZTUz\
IGhvc3RlZCB6b25lJwogICAgZnJlZTogZmFsc2UKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5\
TmFtZTogIkhvc3RlZCBab25lIgogICAgICBsb25nRGVzY3JpcHRpb246ICJIb3N0ZWQgWm9uZSBB\
UEIiCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNr\
X2lkZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUg\
U3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIg\
dG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVu\
dCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJh\
Y3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUtaG9zdGVkenpvbmUtc3RhY2siLCAicHJv\
ZHVjdGlvbi1yNTMtaG9zdGVkem9uZS0wOC0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
ICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAg\
IHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBL\
ZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgLSBuYW1lOiBhd3Nfc2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAg\
dGl0bGU6IEFXUyBTZWNyZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtl\
eSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAtIG5hbWU6IEhvc3RlZFpvbmVOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0\
aXRsZTogTmFtZSBvZiB0aGUgaG9zdGVkIHpvbmUKICAgICAgICBkZXNjcmlwdGlvbjogJ0RvbWFp\
biBuYW1lIG9mIHRoZSBob3N0ZWQgem9uZSB3aGljaCB0aGUgcmVjb3JkcyBhcmUgdG8gYmUgY3Jl\
YXRlZCBpbi4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgLSBuYW1lOiByZWNvcmRzZXQKICAgIGRl\
c2NyaXB0aW9uOiAnTWFuYWdlZCBSb3V0ZTUzIFJlY29yZCBTZXQnCiAgICBmcmVlOiBmYWxzZQog\
ICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlOYW1lOiAiUmVjb3JkIFNldCIKICAgICAgbG9uZ0Rl\
c2NyaXB0aW9uOiAiUmVjb3JkIFNldCBBUEIiCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0\
ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1\
ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0\
aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0\
aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNv\
bnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUt\
cmVjb3Jkc2V0LXN0YWNrIiwgInByb2R1Y3Rpb24tcjUzLXJlY29yZHNldC0wOC0yMDE3IiknCiAg\
ICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAg\
ICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3Nfc2VjcmV0X2tleQogICAgICAgIHJl\
cXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBTZWNyZXQgS2V5CiAgICAgICAgZGVzY3Jp\
cHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAg\
ICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IEhvc3RlZFpvbmVOYW1lCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTmFtZSBvZiB0aGUgaG9zdGVkIHpvbmUKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ0RvbWFpbiBuYW1lIG9mIHRoZSBob3N0ZWQgem9uZSB3aGljaCB0aGUg\
cmVjb3JkcyBhcmUgdG8gYmUgY3JlYXRlZCBpbi4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
IC0gbmFtZTogSG9zdGVkWm9uZUlkCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRs\
ZTogSWQgb2YgdGhlIGhvc3RlZCB6b25lCiAgICAgICAgZGVzY3JpcHRpb246ICdJZCBvZiB0aGUg\
aG9zdGVkIHpvbmUgd2hpY2ggdGhlIHJlY29yZHMgYXJlIHRvIGJlIGNyZWF0ZWQgaW4nCiAgICAg\
ICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogVGltZVRvTGl2ZQogICAgICAgIHJlcXVpcmVk\
OiB0cnVlCiAgICAgICAgdGl0bGU6IFRpbWUgdG8gbGl2ZQogICAgICAgIGRlc2NyaXB0aW9uOiAn\
SG93IGxvbmcgdGhlIHJlc29sdmVkIHJlY29yZCBjYW4gcmVzb2x2ZS4nCiAgICAgICAgdHlwZTog\
c3RyaW5nCiAgICAgICAgZGVmYXVsdDogIjM2MCIKICAgICAgLSBuYW1lOiBUeXBlb2ZSZWNvcmQK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBUeXBlIG9mIHJlY29yZAogICAg\
ICAgIGRlc2NyaXB0aW9uOiAnVGhlIHR5cGUgb2YgcmVjb3JkIHRvIGJlIGNyZWF0ZWQnCiAgICAg\
ICAgZW51bTogWyJBIiwgIkFBQUEiLCAiQ0FBIiwgIkNOQU1FIiwgIk1YIiwgIk5TIiwgIlBUUiIs\
ICJTT0EiLCAiU1BGIiwgIlNSViIsICJUWFQiXQogICAgICAgIHR5cGU6IGVudW0KICAgICAgLSBu\
YW1lOiBSZWNvcmROYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUmVj\
b3JkIE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ05hbWUgb2YgdGhlIHJlY29yZCB0byBiZSBh\
ZGRlZCcKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBSZXNvdXJjZVJlY29yZAog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFJlc291cmNlIFJlY29yZAogICAg\
ICAgIGRlc2NyaXB0aW9uOiAnSXAgb3IgRE5TIG5hbWUgdGhlIHJlY29yZCByZXNvbHZlcyB0by4n\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogQWxpYXNUYXJnZXQKICAgICAgICBy\
ZXF1aXJlZDogZmFsc2UKICAgICAgICB0aXRsZTogQWxpYXMgVGFyZ2V0CiAgICAgICAgZGVzY3Jp\
cHRpb246ICdBbGlhcyByZXNvdXJjZSByZWNvcmQgc2V0cyBvbmx5OiBJbmZvcm1hdGlvbiBhYm91\
dCB0aGUgZG9tYWluIHRvIHdoaWNoIHlvdSBhcmUgcmVkaXJlY3RpbmcgdHJhZmZpYy4nCiAgICAg\
ICAgdHlwZTogc3RyaW5nCg=="


USER apb
