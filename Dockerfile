FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogcjUzLWFwYgppbWFnZTogYW5zaWJsZXBsYXlib29rYnVuZGxlL3I1My1hcGIKZGVzY3Jp\
cHRpb246ICdBV1MgTWFuYWdlZCBSb3V0ZSA1MyBJbXBsZW1lbnRhdGlvbicKdGFnczoKICAtIGFt\
YXpvbgogIC0gcjUzCiAgLSByb3V0ZTUzCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbApt\
ZXRhZGF0YToKICBkaXNwbGF5TmFtZTogIkFtYXpvbiBSb3V0ZSA1MyAoQVBCKSIKICBpbWFnZVVy\
bDogImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS90aHAtYXdzLWljb25zLWRldi9OZXR3b3JraW5n\
Q29udGVudERlbGl2ZXJ5X0FtYXpvblJvdXRlNTNfTEFSR0UucG5nIgogIGRvY3VtZW50YXRpb25V\
cmw6ICJodHRwczovL2F3cy5hbWF6b24uY29tL2RvY3VtZW50YXRpb24vcm91dGU1My8iCiAgbG9u\
Z0Rlc2NyaXB0aW9uOiAiQW1hem9uIFJvdXRlIDUzIGlzIGEgaGlnaGx5IGF2YWlsYWJsZSBhbmQg\
c2NhbGFibGUgRG9tYWluIE5hbWUgU3lzdGVtIChETlMpIHdlYiBzZXJ2aWNlLiIKICBwcm92aWRl\
ckRpc3BsYXlOYW1lOiAiQVdTIgpwbGFuczoKICAtIG5hbWU6IGhvc3RlZHpvbmUKICAgIGRlc2Ny\
aXB0aW9uOiAnTWFuYWdlZCBSb3V0ZTUzIGhvc3RlZCB6b25lJwogICAgZnJlZTogZmFsc2UKICAg\
IG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIkhvc3RlZCBab25lIgogICAgICBsb25nRGVz\
Y3JpcHRpb246ICJIb3N0ZWQgWm9uZSBBUEIiCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0\
ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1\
ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0\
aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0\
aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNv\
bnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUt\
aG9zdGVkenpvbmUtc3RhY2siLCAicHJvZHVjdGlvbi1yNTMtaG9zdGVkem9uZS0wOC0yMDE3Iikn\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRl\
c2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicK\
ICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3Nfc2VjcmV0X2tleQogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBTZWNyZXQgS2V5CiAgICAgICAgZGVz\
Y3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IEhvc3RlZFpvbmVOYW1lCiAgICAgICAg\
cmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTmFtZSBvZiB0aGUgaG9zdGVkIHpvbmUKICAg\
ICAgICBkZXNjcmlwdGlvbjogJ0RvbWFpbiBuYW1lIG9mIHRoZSBob3N0ZWQgem9uZSB3aGljaCB0\
aGUgcmVjb3JkcyBhcmUgdG8gYmUgY3JlYXRlZCBpbi4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAg\
LSBuYW1lOiByZWNvcmRzZXQKICAgIGRlc2NyaXB0aW9uOiAnTWFuYWdlZCBSb3V0ZTUzIFJlY29y\
ZCBTZXQnCiAgICBmcmVlOiBmYWxzZQogICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlOYW1lOiAi\
UmVjb3JkIFNldCIKICAgICAgbG9uZ0Rlc2NyaXB0aW9uOiAiUmVjb3JkIFNldCBBUEIiCiAgICAg\
IGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZp\
ZXIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRl\
bnRpZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5j\
bHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcg\
Y29sbGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5k\
IGh5cGhlbnMuIChlLmcuICJzYW1wbGUtcmVjb3Jkc2V0LXN0YWNrIiwgInByb2R1Y3Rpb24tcjUz\
LXJlY29yZHNldC0wOC0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTog\
YXdzX2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1Mg\
QWNjZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVu\
dGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBh\
d3Nfc2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBT\
ZWNyZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50\
aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IEhv\
c3RlZFpvbmVOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTmFtZSBv\
ZiB0aGUgaG9zdGVkIHpvbmUKICAgICAgICBkZXNjcmlwdGlvbjogJ0RvbWFpbiBuYW1lIG9mIHRo\
ZSBob3N0ZWQgem9uZSB3aGljaCB0aGUgcmVjb3JkcyBhcmUgdG8gYmUgY3JlYXRlZCBpbi4nCiAg\
ICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogSG9zdGVkWm9uZUlkCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogSWQgb2YgdGhlIGhvc3RlZCB6b25lCiAgICAgICAg\
ZGVzY3JpcHRpb246ICdJZCBvZiB0aGUgaG9zdGVkIHpvbmUgd2hpY2ggdGhlIHJlY29yZHMgYXJl\
IHRvIGJlIGNyZWF0ZWQgaW4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogVGlt\
ZVRvTGl2ZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFRpbWUgdG8gbGl2\
ZQogICAgICAgIGRlc2NyaXB0aW9uOiAnSG93IGxvbmcgdGhlIHJlc29sdmVkIHJlY29yZCBjYW4g\
cmVzb2x2ZS4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogIjM2MCIKICAg\
ICAgLSBuYW1lOiBUeXBlb2ZSZWNvcmQKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBUeXBlIG9mIHJlY29yZAogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHR5cGUgb2YgcmVj\
b3JkIHRvIGJlIGNyZWF0ZWQnCiAgICAgICAgZW51bTogWyJBIiwgIkFBQUEiLCAiQ0FBIiwgIkNO\
QU1FIiwgIk1YIiwgIk5TIiwgIlBUUiIsICJTT0EiLCAiU1BGIiwgIlNSViIsICJUWFQiXQogICAg\
ICAgIHR5cGU6IGVudW0KICAgICAgLSBuYW1lOiBSZWNvcmROYW1lCiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogUmVjb3JkIE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ05h\
bWUgb2YgdGhlIHJlY29yZCB0byBiZSBhZGRlZCcKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAg\
LSBuYW1lOiBSZXNvdXJjZVJlY29yZAogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0\
bGU6IFJlc291cmNlIFJlY29yZAogICAgICAgIGRlc2NyaXB0aW9uOiAnSXAgb3IgRE5TIG5hbWUg\
dGhlIHJlY29yZCByZXNvbHZlcyB0by4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFt\
ZTogQWxpYXNUYXJnZXQKICAgICAgICByZXF1aXJlZDogZmFsc2UKICAgICAgICB0aXRsZTogQWxp\
YXMgVGFyZ2V0CiAgICAgICAgZGVzY3JpcHRpb246ICdBbGlhcyByZXNvdXJjZSByZWNvcmQgc2V0\
cyBvbmx5OiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZG9tYWluIHRvIHdoaWNoIHlvdSBhcmUgcmVk\
aXJlY3RpbmcgdHJhZmZpYy4nCiAgICAgICAgdHlwZTogc3RyaW5nCg=="


USER apb
