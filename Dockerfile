FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogcjUzLWFwYgppbWFnZTogYW5zaWJsZXBsYXlib29rYnVuZGxlL3I1My1hcGIKZGVzY3Jp\
cHRpb246ICdBV1MgTWFuYWdlZCBSb3V0ZSA1MyBJbXBsZW1lbnRhdGlvbicKdGFnczoKICAtIGFt\
YXpvbgogIC0gcjUzCiAgLSByb3V0ZTUzCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbApt\
ZXRhZGF0YToKICBkaXNwbGF5TmFtZTogIkFtYXpvbiBSb3V0ZSA1MyAoQVBCKSIKICBpbWFnZVVy\
bDogImh0dHBzOi8vZDAuYXdzc3RhdGljLmNvbS9jbG91ZC1zdG9yYWdlL0RlY2tfRGF0YWJhc2Vz\
LnBuZyIKICBkb2N1bWVudGF0aW9uVXJsOiAiaHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9kb2N1bWVu\
dGF0aW9uL3JvdXRlNTMvIgogIGRlcGVuZGVuY2llczogWydkb2NrZXIuaW8vYW5zaWJsZXBsYXli\
b29rYnVuZGxlL3I1My1hcGI6bGF0ZXN0J10KICBsb25nRGVzY3JpcHRpb246ICJBbWF6b24gUm91\
dGUgNTMgaXMgYSBoaWdobHkgYXZhaWxhYmxlIGFuZCBzY2FsYWJsZSBEb21haW4gTmFtZSBTeXN0\
ZW0gKEROUykgd2ViIHNlcnZpY2UuIgogIHByb3ZpZGVyRGlzcGxheU5hbWU6ICJBV1MiCnBsYW5z\
OgogIC0gbmFtZTogaG9zdGVkem9uZQogICAgZGVzY3JpcHRpb246ICdNYW5hZ2VkIFJvdXRlNTMg\
aG9zdGVkIHpvbmUnCiAgICBmcmVlOiBmYWxzZQogICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlO\
YW1lOiAiSG9zdGVkIFpvbmUiCiAgICAgIGxvbmdEZXNjcmlwdGlvbjogIkhvc3RlZCBab25lIEFQ\
QiIKICAgICAgY29zdDogJDAuMDAKICAgIHBhcmFtZXRlcnM6CiAgICAgIC0gbmFtZTogc3RhY2tf\
aWRlbnRpZmllcgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVuaXF1ZSBT\
dGFjayBJZGVudGlmaWVyCiAgICAgICAgZGVzY3JpcHRpb246ICdVbmlxdWUgaWRlbnRpZmllciB0\
byBiZSBpbmNsdWRlZCBpbiB0aGUgQ2xvdWRGb3JtYXRpb24gU3RhY2sgTmFtZSB0byBwcmV2ZW50\
IG5hbWluZyBjb2xsaXNpb25zLiBNdXN0IG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFj\
dGVycyBhbmQgaHlwaGVucy4gKGUuZy4gInNhbXBsZS1ob3N0ZWR6em9uZS1zdGFjayIsICJwcm9k\
dWN0aW9uLXI1My1ob3N0ZWR6b25lLTA4LTIwMTciKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAg\
dGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgQWNjZXNzIEtl\
eSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0\
aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQgS2V5\
IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
IC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdT\
IFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFJlZ2lvbiB0byBjcmVhdGUgSG9zdGVk\
IFpvbmUgaW4uJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJ1cy13ZXN0\
LTIiCiAgICAgIC0gbmFtZTogSG9zdGVkWm9uZU5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQog\
ICAgICAgIHRpdGxlOiBOYW1lIG9mIHRoZSBob3N0ZWQgem9uZQogICAgICAgIGRlc2NyaXB0aW9u\
OiAnRG9tYWluIG5hbWUgb2YgdGhlIGhvc3RlZCB6b25lIHdoaWNoIHRoZSByZWNvcmRzIGFyZSB0\
byBiZSBjcmVhdGVkIGluLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAtIG5hbWU6IHJlY29yZHNl\
dAogICAgZGVzY3JpcHRpb246ICdNYW5hZ2VkIFJvdXRlNTMgUmVjb3JkIFNldCcKICAgIGZyZWU6\
IGZhbHNlCiAgICBtZXRhZGF0YToKICAgICAgZGlzcGxheU5hbWU6ICJSZWNvcmQgU2V0IgogICAg\
ICBsb25nRGVzY3JpcHRpb246ICJSZWNvcmQgU2V0IEFQQiIKICAgICAgY29zdDogJDAuMDAKICAg\
IHBhcmFtZXRlcnM6CiAgICAgIC0gbmFtZTogc3RhY2tfaWRlbnRpZmllcgogICAgICAgIHJlcXVp\
cmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVuaXF1ZSBTdGFjayBJZGVudGlmaWVyCiAgICAgICAg\
ZGVzY3JpcHRpb246ICdVbmlxdWUgaWRlbnRpZmllciB0byBiZSBpbmNsdWRlZCBpbiB0aGUgQ2xv\
dWRGb3JtYXRpb24gU3RhY2sgTmFtZSB0byBwcmV2ZW50IG5hbWluZyBjb2xsaXNpb25zLiBNdXN0\
IG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhbmQgaHlwaGVucy4gKGUuZy4g\
InNhbXBsZS1yZWNvcmRzZXQtc3RhY2siLCAicHJvZHVjdGlvbi1yNTMtcmVjb3Jkc2V0LTA4LTIw\
MTciKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAg\
ICAgZGVzY3JpcHRpb246ICdBV1MgQWNjZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdp\
dGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0\
aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9u\
OiAnQVdTIFJlZ2lvbiB0byBjcmVhdGUgUmVjb3JkIFNldCBpbi4nCiAgICAgICAgdHlwZTogc3Ry\
aW5nCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAgLSBuYW1lOiBIb3N0ZWRab25l\
TmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IE5hbWUgb2YgdGhlIGhv\
c3RlZCB6b25lCiAgICAgICAgZGVzY3JpcHRpb246ICdEb21haW4gbmFtZSBvZiB0aGUgaG9zdGVk\
IHpvbmUgd2hpY2ggdGhlIHJlY29yZHMgYXJlIHRvIGJlIGNyZWF0ZWQgaW4uJwogICAgICAgIHR5\
cGU6IHN0cmluZwogICAgICAtIG5hbWU6IEhvc3RlZFpvbmVJZAogICAgICAgIHJlcXVpcmVkOiB0\
cnVlCiAgICAgICAgdGl0bGU6IElkIG9mIHRoZSBob3N0ZWQgem9uZQogICAgICAgIGRlc2NyaXB0\
aW9uOiAnSWQgb2YgdGhlIGhvc3RlZCB6b25lIHdoaWNoIHRoZSByZWNvcmRzIGFyZSB0byBiZSBj\
cmVhdGVkIGluJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IFRpbWVUb0xpdmUK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBUaW1lIHRvIGxpdmUKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ0hvdyBsb25nIHRoZSByZXNvbHZlZCByZWNvcmQgY2FuIHJlc29sdmUu\
JwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIzNjAiCiAgICAgIC0gbmFt\
ZTogVHlwZW9mUmVjb3JkCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVHlw\
ZSBvZiByZWNvcmQKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSB0eXBlIG9mIHJlY29yZCB0byBi\
ZSBjcmVhdGVkJwogICAgICAgIGVudW06IFsiQSIsICJBQUFBIiwgIkNBQSIsICJDTkFNRSIsICJN\
WCIsICJOUyIsICJQVFIiLCAiU09BIiwgIlNQRiIsICJTUlYiLCAiVFhUIl0KICAgICAgICB0eXBl\
OiBlbnVtCiAgICAgIC0gbmFtZTogUmVjb3JkTmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAg\
ICAgICAgdGl0bGU6IFJlY29yZCBOYW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdOYW1lIG9mIHRo\
ZSByZWNvcmQgdG8gYmUgYWRkZWQnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTog\
UmVzb3VyY2VSZWNvcmQKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBSZXNv\
dXJjZSBSZWNvcmQKICAgICAgICBkZXNjcmlwdGlvbjogJ0lwIG9yIEROUyBuYW1lIHRoZSByZWNv\
cmQgcmVzb2x2ZXMgdG8uJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IEFsaWFz\
VGFyZ2V0CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICAgICAgdGl0bGU6IEFsaWFzIFRhcmdl\
dAogICAgICAgIGRlc2NyaXB0aW9uOiAnQWxpYXMgcmVzb3VyY2UgcmVjb3JkIHNldHMgb25seTog\
SW5mb3JtYXRpb24gYWJvdXQgdGhlIGRvbWFpbiB0byB3aGljaCB5b3UgYXJlIHJlZGlyZWN0aW5n\
IHRyYWZmaWMuJwogICAgICAgIHR5cGU6IHN0cmluZwo="

USER apb
