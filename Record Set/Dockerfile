FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogcjUzLXJlY29yZHNldC1hcGIKaW1hZ2U6IGFuc2libGVwbGF5Ym9va2J1bmRsZS9yNTMt\
cmVjb3Jkc2V0LWFwYgpkZXNjcmlwdGlvbjogJ01hbmFnZWQgUm91dGUgNTMgcmVjb3JkIHNldCcK\
bWV0YWRhdGE6CiAgZGlzcGxheU5hbWU6ICJBV1MgUm91dGUgNTMgUmVjb3JkU2V0IgogIGxvbmdE\
ZXNjcmlwdGlvbjogIkFtYXpvbiBSb3V0ZSA1MyBpcyBhIGhpZ2hseSBhdmFpbGFibGUgYW5kIHNj\
YWxhYmxlIERvbWFpbiBOYW1lIFN5c3RlbSAoRE5TKSB3ZWIgc2VydmljZS4iCiAgcHJvdmlkZXJE\
aXNwbGF5TmFtZTogIkFXUyIKdGFnczoKICAtIGFtYXpvbgogIC0gcjUzCiAgLSByb3V0ZTUzCmJp\
bmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbApwbGFuczoKICAtIG5hbWU6IGRlZmF1bHQKICAg\
IGRlc2NyaXB0aW9uOiAnTWFuYWdlZCBSb3V0ZTUzIFJlY29yZCBzZXQnCiAgICBmcmVlOiBmYWxz\
ZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBzdGFja19pZGVudGlmaWVyCiAgICAgICAg\
cmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVW5pcXVlIFN0YWNrIElkZW50aWZpZXIKICAg\
ICAgICBkZXNjcmlwdGlvbjogJ1VuaXF1ZSBpZGVudGlmaWVyIHRvIGJlIGluY2x1ZGVkIGluIHRo\
ZSBDbG91ZEZvcm1hdGlvbiBTdGFjayBOYW1lIHRvIHByZXZlbnQgbmFtaW5nIGNvbGxpc2lvbnMu\
IE11c3Qgb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIGFuZCBoeXBoZW5zLiAo\
ZS5nLiAic2FtcGxlLXJlY29yZHNldC1zdGFjayIsICJwcm9kdWN0aW9uLXI1My1yZWNvcmRzZXQt\
MDgtMjAxNyIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IGF3c19hY2Nlc3Nf\
a2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIEFjY2VzcyBLZXkK\
ICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBBY2Nlc3MgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBB\
V1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdzX3NlY3JldF9r\
ZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgU2VjcmV0IEtleQog\
ICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFNlY3JldCBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFX\
UyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiByZWdpb24KICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgUmVnaW9uCiAgICAgICAgZGVzY3Jp\
cHRpb246ICdBV1MgUmVnaW9uIHRvIGNyZWF0ZSByZWNvcmQgc2V0IGluLicKICAgICAgICB0eXBl\
OiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAtIG5hbWU6IEhvc3Rl\
ZFpvbmVOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTmFtZSBvZiB0\
aGUgaG9zdGVkIHpvbmUKICAgICAgICBkZXNjcmlwdGlvbjogJ05hbWUgb2YgdGhlIGhvc3RlZCB6\
b25lIHdoaWNoIHRoZSByZWNvcmRzIGFyZSB0byBiZSBjcmVhdGVkIGluJwogICAgICAgIHR5cGU6\
IHN0cmluZwogICAgICAtIG5hbWU6IEhvc3RlZFpvbmVJZAogICAgICAgIHJlcXVpcmVkOiB0cnVl\
CiAgICAgICAgdGl0bGU6IElkIG9mIHRoZSBob3N0ZWQgem9uZQogICAgICAgIGRlc2NyaXB0aW9u\
OiAnSWQgb2YgdGhlIGhvc3RlZCB6b25lIHdoaWNoIHRoZSByZWNvcmRzIGFyZSB0byBiZSBjcmVh\
dGVkIGluJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IFRpbWVUb0xpdmUKICAg\
ICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBUaW1lIHRvIGxpdmUKICAgICAgICBk\
ZXNjcmlwdGlvbjogJ0hvdyBsb25nIHRoZSByZXNvbHZlZCByZWNvcmQgY2FuIHJlc29sdmUuJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICIzNjAiCiAgICAgIC0gbmFtZTog\
VHlwZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFR5cGUgb2YgcmVjb3Jk\
CiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgdHlwZSBvZiByZWNvcmQgdG8gYmUgY3JlYXRlZCcK\
ICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBSZWNvcmROYW1lCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUmVjb3JkIE5hbWUKICAgICAgICBkZXNjcmlwdGlv\
bjogJ05hbWUgb2YgdGhlIHJlY29yZCB0byBiZSBhZGRlZCcKICAgICAgICB0eXBlOiBzdHJpbmcK\
ICAgICAgLSBuYW1lOiBSZXNvdXJjZVJlY29yZAogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAg\
ICAgdGl0bGU6IFJlc291cmNlIFJlY29yZAogICAgICAgIGRlc2NyaXB0aW9uOiAnSXAgb3IgRE5T\
IG5hbWUgdGhlIHJlY29yZCByZXNvbHZlcyB0by4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
IC0gbmFtZTogQWxpYXNUYXJnZXQKICAgICAgICByZXF1aXJlZDogZmFsc2UKICAgICAgICB0aXRs\
ZTogQWxpYXMgVGFyZ2V0CiAgICAgICAgZGVzY3JpcHRpb246ICdBbGlhcyByZXNvdXJjZSByZWNv\
cmQgc2V0cyBvbmx5OiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZG9tYWluIHRvIHdoaWNoIHlvdSBh\
cmUgcmVkaXJlY3RpbmcgdHJhZmZpYy4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICBtZXRhZGF0\
YToKICAgICAgZGlzcGxheU5hbWU6ICJBbWF6b24gUm91dGUgNTMgUmVjb3JkIHNldCIKICAgICAg\
bG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIFJvdXRlIDUzIGlzIGEgaGlnaGx5IGF2YWlsYWJsZSBh\
bmQgc2NhbGFibGUgRG9tYWluIE5hbWUgU3lzdGVtIChETlMpIHdlYiBzZXJ2aWNlLiIKICAgICAg\
aW1hZ2VVcmw6ICJodHRwczovL2QwLmF3c3N0YXRpYy5jb20vY2xvdWQtc3RvcmFnZS9EZWNrX0Rh\
dGFiYXNlcy5wbmciCiAgICAgIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24u\
Y29tL2RvY3VtZW50YXRpb24vcm91dGU1My8iCiAgICAgIGNvc3Q6ICQwLjAwCg=="


USER apb
